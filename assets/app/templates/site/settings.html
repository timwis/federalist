<div class="usa-grid header">
  <div class="usa-width-two-thirds">
    <img class="header-icon" src="/images/website.svg" alt="Websites icon">
    <div class="header-title">
      <h1><%- model.repository %></h1>
      <p>Settings</p>
    </div>
  </div>
  <div class="usa-width-one-third">
    <a class="usa-button usa-button-big pull-right icon icon-view icon-white"
        href="<%- model.viewLink %>"
        alt="View this website" role="button" target="_blank">View Website</a>
  </div>
</div>
<form id="site-edit">
  <div class="usa-grid">
    <div class="usa-width-one-whole">
      <label for="defaultBranch"
        class="<%- model.defaultBranch ? 'active' : '' %>">
        Default branch</label>
      <input name="defaultBranch" class="form-control" type="text"
        value="<%- model.defaultBranch %>">
    </div>
  </div>
  <div class="usa-grid">
    <div class="usa-width-one-whole">
      <label>Draft previews</label>
      <div class="radio">
        <input type="radio" name="publicPreview" id="public" value="true" <% model.publicPreview && print('checked="true"') %>>
        <label for="public">Allow anyone to see previews of draft sites</label>
      </div>
      <div class="radio">
        <input type="radio" name="publicPreview" id="private" value="" <% model.publicPreview || print('checked="true"') %>>
        <label for="private">Only users with Federalist accounts can see previews</label>
      </div>
    </div>
  </div>
  <div class="usa-grid">
    <div class="usa-width-one-whole">
      <div class="form-group">
        <label class="active" for="domain">Custom domain</label>
        <input name="domain" class="form-control" type="text" placeholder="https://example.com" value="<%- model.domain %>">
      </div>
      <div class="usa-alert usa-alert-info">
        <div class="usa-alert-body">
          <h3 class="usa-alert-heading">Custom Domain</h3>
          <p class="usa-alert-text">Use a custom domain by setting an <code>ALIAS</code> record with your DNS provider that points this origin:</p>
          <input readonly type="text" value="<%- model.siteRoot || window.location.origin %>/site/<%- model.owner %>/<%- model.repository %>/">
        </div>
      </div>
    </div>
  </div>
  <div class="usa-grid">
    <div class="usa-width-one-whole">
      <% if (model.engine === 'jekyll') { %>
      <div class="form-group">
         <label for="config"
          class="<%- model.config ? 'active' : '' %>">Custom configuration</label>
        <textarea name="config" class="form-control"><%- model.config %></textarea>
      </div>
      <% } %>
      <div class="usa-alert usa-alert-info">
        <div class="usa-alert-body">
          <h3 class="usa-alert-heading">Configuration</h3>
          <p class="usa-alert-text">Add additional configuration in yaml to be added to your <code>_config.yml</code> file when we render your site.</p>
        </div>
      </div>
    </div>
  </div>
  <div class="usa-grid">
    <div class="usa-width-one-whole">
      <a href="/#site/<%- model.id %>" class="usa-button usa-button-gray" role="button">Cancel</a>
      <button class="usa-button usa-button-primary" data-action="save-site-settings">Save</button>
    </div>
  </div>
</form>
<div class="usa-grid">
  <div class="usa-alert usa-alert-error" role="alert">
    Delete this site from Federalist?
    <a href="#" class="usa-button usa-button-secondary" data-action="delete-site" alt="delete the site <%- model.repository %>">Delete</a>
  </div>
</div>
